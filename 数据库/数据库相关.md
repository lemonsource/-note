## 乐观锁和悲观锁
### 1.定义
> 悲观锁 ： 总是假设最坏的情况，每次取数据时候总会认为数据在这个过程中会被修改，所以每一次在取数据的时候都会给数据加锁，传统的数据库中使用到的表锁、行锁、读锁写锁等。<font color="#FF0000">java中使用的synchronized关键字的实现也是悲观锁</font>.

> 乐观锁 ： 每次取数据的时候总是假设别人不会修改，所以不会上锁，<font color="#FF00000">但是在提交数据更新的时候会检查数据在次期间是否被更改</font>乐观锁适用于多读的情况。

- 悲观锁的存在的问题

> 1. 在多线程竞争下，加锁、释放锁会导致比较多的上下文切换和调度延时，引起性能问题，
> 2. 一个线程持有锁会导致其他线程挂起
> 3. 如果一个优先级高的线程等待一个优先级低的线程释放锁会导致优先级倒置，引起性能风险。

- CAS（compare and swap）

> 乐观锁的实现主要是俩个实现步骤：冲突检测和数据更新。CAS是一种典型的实现方式。

>CAS操作中的三个操作数

>> 需要读写的内存位置（V）、进行比较的预期原值（A）、拟写入的新值(B)  